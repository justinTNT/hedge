// AUTO-GENERATED by src/Gen/Program.fs -- do not edit by hand.
module Server.AdminGen

open Hedge.Schema

type AdminTable = {
    Name: string
    Table: string
    Schema: TypeSchema
    SelectAll: string
    SelectOne: string
    Update: string
    Delete: string
    MutableFields: string list
}

let guest : AdminTable =
    { Name = "Guest"
      Table = "guests"
      Schema =
        schema "Guest" [
            fieldWith "Id" FString [PrimaryKey]
            fieldWith "Name" FString []
            fieldWith "Picture" FString []
            fieldWith "SessionId" FString []
            fieldWith "CreatedAt" FInt [CreateTimestamp]
            fieldWith "DeletedAt" (FOption FInt) [SoftDelete]
        ]
      SelectAll = "SELECT id, name, picture, session_id, created_at, deleted_at FROM guests ORDER BY created_at DESC LIMIT 100"
      SelectOne = "SELECT id, name, picture, session_id, created_at, deleted_at FROM guests WHERE id = ?"
      Update = "UPDATE guests SET name = ?, picture = ?, session_id = ? WHERE id = ?"
      Delete = "DELETE FROM guests WHERE id = ?"
      MutableFields = ["Name"; "Picture"; "SessionId"] }

let microblogItem : AdminTable =
    { Name = "MicroblogItem"
      Table = "items"
      Schema =
        schema "MicroblogItem" [
            fieldWith "Id" FString [PrimaryKey]
            fieldWith "Title" FString []
            fieldWith "Link" (FOption FString) [Link]
            fieldWith "Image" (FOption FString) [Link]
            fieldWith "Extract" (FOption FString) [RichContent]
            fieldWith "OwnerComment" FString [RichContent]
            fieldWith "CreatedAt" FInt [CreateTimestamp]
            fieldWith "UpdatedAt" (FOption FInt) [UpdateTimestamp]
            fieldWith "ViewCount" FInt []
            fieldWith "DeletedAt" (FOption FInt) [SoftDelete]
        ]
      SelectAll = "SELECT id, title, link, image, extract, owner_comment, created_at, updated_at, view_count, deleted_at FROM items ORDER BY created_at DESC LIMIT 100"
      SelectOne = "SELECT id, title, link, image, extract, owner_comment, created_at, updated_at, view_count, deleted_at FROM items WHERE id = ?"
      Update = "UPDATE items SET title = ?, link = ?, image = ?, extract = ?, owner_comment = ?, view_count = ? WHERE id = ?"
      Delete = "DELETE FROM items WHERE id = ?"
      MutableFields = ["Title"; "Link"; "Image"; "Extract"; "OwnerComment"; "ViewCount"] }

let itemComment : AdminTable =
    { Name = "ItemComment"
      Table = "comments"
      Schema =
        schema "ItemComment" [
            fieldWith "Id" FString [PrimaryKey]
            fieldWith "ItemId" FString [ForeignKey "MicroblogItem"]
            fieldWith "GuestId" FString [ForeignKey "Guest"]
            fieldWith "ParentId" (FOption FString) []
            fieldWith "Author" FString []
            fieldWith "Content" FString [RichContent]
            fieldWith "Removed" FBool []
            fieldWith "CreatedAt" FInt [CreateTimestamp]
            fieldWith "DeletedAt" (FOption FInt) [SoftDelete]
        ]
      SelectAll = "SELECT id, item_id, guest_id, parent_id, author, content, removed, created_at, deleted_at FROM comments ORDER BY created_at DESC LIMIT 100"
      SelectOne = "SELECT id, item_id, guest_id, parent_id, author, content, removed, created_at, deleted_at FROM comments WHERE id = ?"
      Update = "UPDATE comments SET item_id = ?, guest_id = ?, parent_id = ?, author = ?, content = ?, removed = ? WHERE id = ?"
      Delete = "DELETE FROM comments WHERE id = ?"
      MutableFields = ["ItemId"; "GuestId"; "ParentId"; "Author"; "Content"; "Removed"] }

let tag : AdminTable =
    { Name = "Tag"
      Table = "tags"
      Schema =
        schema "Tag" [
            fieldWith "Id" FString [PrimaryKey]
            fieldWith "Name" FString []
            fieldWith "CreatedAt" FInt [CreateTimestamp]
            fieldWith "DeletedAt" (FOption FInt) [SoftDelete]
        ]
      SelectAll = "SELECT id, name, created_at, deleted_at FROM tags ORDER BY created_at DESC LIMIT 100"
      SelectOne = "SELECT id, name, created_at, deleted_at FROM tags WHERE id = ?"
      Update = "UPDATE tags SET name = ? WHERE id = ?"
      Delete = "DELETE FROM tags WHERE id = ?"
      MutableFields = ["Name"] }

let itemTag : AdminTable =
    { Name = "ItemTag"
      Table = "item_tags"
      Schema =
        schema "ItemTag" [
            fieldWith "ItemId" FString [ForeignKey "MicroblogItem"]
            fieldWith "TagId" FString [ForeignKey "Tag"]
            fieldWith "DeletedAt" (FOption FInt) [SoftDelete]
        ]
      SelectAll = "SELECT item_id, tag_id, deleted_at FROM item_tags LIMIT 100"
      SelectOne = "SELECT item_id, tag_id, deleted_at FROM item_tags WHERE item_id = ?"
      Update = "UPDATE item_tags SET item_id = ?, tag_id = ? WHERE item_id = ?"
      Delete = "DELETE FROM item_tags WHERE item_id = ?"
      MutableFields = ["ItemId"; "TagId"] }

let guestSession : AdminTable =
    { Name = "GuestSession"
      Table = "guest_sessions"
      Schema =
        schema "GuestSession" [
            fieldWith "GuestId" FString []
            fieldWith "DisplayName" FString []
            fieldWith "CreatedAt" FInt []
        ]
      SelectAll = "SELECT guest_id, display_name, created_at FROM guest_sessions ORDER BY created_at DESC LIMIT 100"
      SelectOne = "SELECT guest_id, display_name, created_at FROM guest_sessions WHERE guest_id = ?"
      Update = "UPDATE guest_sessions SET guest_id = ?, display_name = ?, created_at = ? WHERE guest_id = ?"
      Delete = "DELETE FROM guest_sessions WHERE guest_id = ?"
      MutableFields = ["GuestId"; "DisplayName"; "CreatedAt"] }

let tables : AdminTable list = [
    guest
    microblogItem
    itemComment
    tag
    itemTag
    guestSession
]
